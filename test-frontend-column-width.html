<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Frontend Column Width</title>
    <style>
        /* Copy relevant CSS from secure-frontend.css */
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
            margin-bottom: 16px;
            border: 2px solid #000;
            padding: 10px;
        }

        /* Use flexbox for custom column widths */
        .form-row.custom-widths {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        .form-column {
            min-width: 0;
            border: 1px solid #ccc;
            padding: 10px;
            background: #f9f9f9;
        }

        /* Column width classes for specific layouts */
        .form-column.col-1 { grid-column: 1 / -1; }
        .form-column.col-2 { grid-column: span 2; }
        .form-column.col-3 { grid-column: span 3; }
        .form-column.col-4 { grid-column: span 4; }

        /* Custom column width (uses flex value from inline style) */
        .form-column.col-custom {
            flex: 1; /* fallback */
        }

        .form-field {
            margin-bottom: 8px;
        }

        .form-field label {
            display: block;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .form-field input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <h1>Test Frontend Column Width Rendering</h1>
    
    <h2>Test 1: Default Grid Layout (no custom widths)</h2>
    <div class="form-row" data-row="0">
        <div class="form-column col-2" data-column="0">
            <div class="form-field">
                <label>Field 1</label>
                <input type="text" value="Default grid column">
            </div>
        </div>
        <div class="form-column col-2" data-column="1">
            <div class="form-field">
                <label>Field 2</label>
                <input type="text" value="Default grid column">
            </div>
        </div>
    </div>

    <h2>Test 2: Custom Width Layout (flexbox)</h2>
    <div class="form-row custom-widths" data-row="0">
        <div class="form-column col-custom" data-column="0" style="flex: 0.33;">
            <div class="form-field">
                <label>Field 1 (33%)</label>
                <input type="text" value="Custom flex: 0.33">
            </div>
        </div>
        <div class="form-column col-custom" data-column="1" style="flex: 0.66;">
            <div class="form-field">
                <label>Field 2 (66%)</label>
                <input type="text" value="Custom flex: 0.66">
            </div>
        </div>
    </div>

    <h2>Test 3: Mixed Width Layout</h2>
    <div class="form-row custom-widths" data-row="1">
        <div class="form-column col-custom" data-column="0" style="flex: 0.25;">
            <div class="form-field">
                <label>Field 1 (25%)</label>
                <input type="text" value="flex: 0.25">
            </div>
        </div>
        <div class="form-column col-custom" data-column="1" style="flex: 0.5;">
            <div class="form-field">
                <label>Field 2 (50%)</label>
                <input type="text" value="flex: 0.5">
            </div>
        </div>
        <div class="form-column col-custom" data-column="2" style="flex: 0.25;">
            <div class="form-field">
                <label>Field 3 (25%)</label>
                <input type="text" value="flex: 0.25">
            </div>
        </div>
    </div>

    <script>
        // Log column widths
        document.querySelectorAll('.form-column').forEach(col => {
            const rect = col.getBoundingClientRect();
            console.log(`Column: ${col.dataset.column}, Width: ${rect.width}px, Flex: ${col.style.flex || 'none'}`);
        });
    </script>
</body>
</html>
